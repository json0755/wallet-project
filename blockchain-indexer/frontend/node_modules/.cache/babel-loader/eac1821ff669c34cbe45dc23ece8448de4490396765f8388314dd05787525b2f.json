{"ast":null,"code":"var _jsxFileName = \"/home/bape/openspace_code/denglian/wallet-project/blockchain-indexer/frontend/src/pages/TransactionsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Box, Typography, Card, CardContent, TextField, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Pagination, Alert, CircularProgress, Chip, InputAdornment, IconButton } from '@mui/material';\nimport { Search, Clear, OpenInNew, TrendingUp, TrendingDown } from '@mui/icons-material';\nimport { useWallet } from '../contexts/WalletContext';\nimport api from '../utils/api';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TransactionsPage = () => {\n  _s();\n  const {\n    account,\n    isConnected\n  } = useWallet();\n  const [searchAddress, setSearchAddress] = useState('');\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [summary, setSummary] = useState(null);\n  const pageSize = 10;\n\n  // 搜索交易记录\n  const searchTransactions = async (address, pageNum = 1) => {\n    if (!address || !address.match(/^0x[a-fA-F0-9]{40}$/)) {\n      setError('请输入有效的以太坊地址');\n      return;\n    }\n    try {\n      setLoading(true);\n      setError(null);\n\n      // 获取交易记录\n      const response = await api.get(`/api/transactions/${address}`, {\n        params: {\n          page: pageNum,\n          limit: pageSize\n        }\n      });\n      setTransactions(response.data.transactions);\n      setTotalPages(Math.ceil(response.data.total / pageSize));\n      setPage(pageNum);\n\n      // 获取交易摘要\n      const summaryResponse = await api.get(`/api/transactions/${address}/summary`);\n      setSummary(summaryResponse.data);\n    } catch (err) {\n      var _err$response;\n      console.error('搜索交易失败:', err);\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 404) {\n        setError('未找到该地址的交易记录');\n      } else {\n        setError('搜索失败，请检查网络连接或后端服务');\n      }\n      setTransactions([]);\n      setSummary(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 处理搜索\n  const handleSearch = () => {\n    if (searchAddress.trim()) {\n      searchTransactions(searchAddress.trim(), 1);\n    }\n  };\n\n  // 处理分页\n  const handlePageChange = (event, newPage) => {\n    if (searchAddress.trim()) {\n      searchTransactions(searchAddress.trim(), newPage);\n    }\n  };\n\n  // 清空搜索\n  const handleClear = () => {\n    setSearchAddress('');\n    setTransactions([]);\n    setSummary(null);\n    setError(null);\n    setPage(1);\n    setTotalPages(0);\n  };\n\n  // 使用当前连接的账户搜索\n  const searchMyTransactions = () => {\n    if (account) {\n      setSearchAddress(account);\n      searchTransactions(account, 1);\n    }\n  };\n\n  // 格式化地址显示\n  const formatAddress = address => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  // 格式化金额显示\n  const formatAmount = amount => {\n    const value = parseFloat(amount);\n    if (value === 0) return '0';\n    if (value < 0.0001) return value.toExponential(2);\n    return value.toLocaleString(undefined, {\n      maximumFractionDigits: 6\n    });\n  };\n\n  // 判断交易类型（发送/接收）\n  const getTransactionType = (tx, address) => {\n    const lowerAddress = address.toLowerCase();\n    if (tx.from_address.toLowerCase() === lowerAddress) {\n      return 'sent';\n    } else if (tx.to_address.toLowerCase() === lowerAddress) {\n      return 'received';\n    }\n    return 'unknown';\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"\\uD83D\\uDCCB \\u4EA4\\u6613\\u8BB0\\u5F55\\u67E5\\u8BE2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"subtitle1\",\n        color: \"text.secondary\",\n        children: \"\\u67E5\\u8BE2\\u6307\\u5B9A\\u5730\\u5740\\u7684ERC20\\u4EE3\\u5E01\\u8F6C\\u8D26\\u8BB0\\u5F55\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 2,\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            alignItems: 'flex-start'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            fullWidth: true,\n            label: \"\\u4EE5\\u592A\\u574A\\u5730\\u5740\",\n            placeholder: \"\\u8F93\\u5165\\u8981\\u67E5\\u8BE2\\u7684\\u4EE5\\u592A\\u574A\\u5730\\u5740 (0x...)\",\n            value: searchAddress,\n            onChange: e => setSearchAddress(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleSearch(),\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 19\n              }, this),\n              endAdornment: searchAddress && /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"end\",\n                children: /*#__PURE__*/_jsxDEV(IconButton, {\n                  onClick: handleClear,\n                  size: \"small\",\n                  children: /*#__PURE__*/_jsxDEV(Clear, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 174,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: handleSearch,\n            disabled: loading || !searchAddress.trim(),\n            sx: {\n              minWidth: 100\n            },\n            children: \"\\u641C\\u7D22\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), isConnected && account && /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            onClick: searchMyTransactions,\n            disabled: loading,\n            sx: {\n              minWidth: 120\n            },\n            children: \"\\u67E5\\u8BE2\\u6211\\u7684\\u4EA4\\u6613\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), summary && /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 1,\n      sx: {\n        mb: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"\\uD83D\\uDCCA \\u4EA4\\u6613\\u6458\\u8981\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 3,\n            flexWrap: 'wrap'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Chip, {\n            icon: /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 23\n            }, this),\n            label: `总交易数: ${summary.totalTransactions}`,\n            color: \"primary\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            icon: /*#__PURE__*/_jsxDEV(TrendingUp, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 23\n            }, this),\n            label: `发送交易: ${summary.sentTransactions}`,\n            color: \"error\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            icon: /*#__PURE__*/_jsxDEV(TrendingDown, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 23\n            }, this),\n            label: `接收交易: ${summary.receivedTransactions}`,\n            color: \"success\",\n            variant: \"outlined\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        py: 4\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this), !loading && transactions.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 2,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          p: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          elevation: 0,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                sx: {\n                  backgroundColor: 'grey.50'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u4EA4\\u6613\\u54C8\\u5E0C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u7C7B\\u578B\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u53D1\\u9001\\u65B9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u63A5\\u6536\\u65B9\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  align: \"right\",\n                  children: \"\\u91D1\\u989D\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u4EE3\\u5E01\\u5730\\u5740\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u65F6\\u95F4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u64CD\\u4F5C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: transactions.map((tx, index) => {\n                const txType = getTransactionType(tx, searchAddress);\n                return /*#__PURE__*/_jsxDEV(TableRow, {\n                  hover: true,\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontFamily: 'monospace'\n                      },\n                      children: formatAddress(tx.transaction_hash)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 270,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Chip, {\n                      size: \"small\",\n                      label: txType === 'sent' ? '发送' : '接收',\n                      color: txType === 'sent' ? 'error' : 'success',\n                      variant: \"outlined\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontFamily: 'monospace'\n                      },\n                      children: formatAddress(tx.from_address)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontFamily: 'monospace'\n                      },\n                      children: formatAddress(tx.to_address)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontWeight: 'bold'\n                      },\n                      children: formatAmount(tx.amount)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      sx: {\n                        fontFamily: 'monospace'\n                      },\n                      children: formatAddress(tx.token_address)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 299,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      children: moment(tx.timestamp).format('MM-DD HH:mm:ss')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: /*#__PURE__*/_jsxDEV(IconButton, {\n                      size: \"small\",\n                      onClick: () => window.open(`#/tx/${tx.transaction_hash}`, '_blank'),\n                      children: /*#__PURE__*/_jsxDEV(OpenInNew, {\n                        fontSize: \"small\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 23\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: 'center',\n            p: 3\n          },\n          children: /*#__PURE__*/_jsxDEV(Pagination, {\n            count: totalPages,\n            page: page,\n            onChange: handlePageChange,\n            color: \"primary\",\n            showFirstButton: true,\n            showLastButton: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), !loading && !error && transactions.length === 0 && searchAddress && /*#__PURE__*/_jsxDEV(Card, {\n      elevation: 1,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        sx: {\n          textAlign: 'center',\n          py: 6\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          gutterBottom: true,\n          children: \"\\uD83D\\uDCED \\u6682\\u65E0\\u4EA4\\u6613\\u8BB0\\u5F55\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          children: \"\\u8BE5\\u5730\\u5740\\u6682\\u65E0ERC20\\u4EE3\\u5E01\\u8F6C\\u8D26\\u8BB0\\u5F55\\uFF0C\\u6216\\u8005\\u6570\\u636E\\u8FD8\\u5728\\u7D22\\u5F15\\u4E2D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n};\n_s(TransactionsPage, \"cmTZoYME7v4MOoM790j+GUia4kA=\", false, function () {\n  return [useWallet];\n});\n_c = TransactionsPage;\nexport default TransactionsPage;\nvar _c;\n$RefreshReg$(_c, \"TransactionsPage\");","map":{"version":3,"names":["React","useState","Box","Typography","Card","CardContent","TextField","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Pagination","Alert","CircularProgress","Chip","InputAdornment","IconButton","Search","Clear","OpenInNew","TrendingUp","TrendingDown","useWallet","api","moment","jsxDEV","_jsxDEV","TransactionsPage","_s","account","isConnected","searchAddress","setSearchAddress","transactions","setTransactions","loading","setLoading","error","setError","page","setPage","totalPages","setTotalPages","summary","setSummary","pageSize","searchTransactions","address","pageNum","match","response","get","params","limit","data","Math","ceil","total","summaryResponse","err","_err$response","console","status","handleSearch","trim","handlePageChange","event","newPage","handleClear","searchMyTransactions","formatAddress","slice","formatAmount","amount","value","parseFloat","toExponential","toLocaleString","undefined","maximumFractionDigits","getTransactionType","tx","lowerAddress","toLowerCase","from_address","to_address","children","sx","mb","variant","component","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","elevation","display","gap","alignItems","fullWidth","label","placeholder","onChange","e","target","onKeyPress","key","InputProps","startAdornment","position","endAdornment","onClick","size","disabled","minWidth","severity","flexWrap","icon","totalTransactions","sentTransactions","receivedTransactions","justifyContent","py","length","p","backgroundColor","align","map","index","txType","hover","fontFamily","transaction_hash","fontWeight","token_address","timestamp","format","window","open","fontSize","count","showFirstButton","showLastButton","textAlign","_c","$RefreshReg$"],"sources":["/home/bape/openspace_code/denglian/wallet-project/blockchain-indexer/frontend/src/pages/TransactionsPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  TextField,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Pagination,\n  Alert,\n  CircularProgress,\n  Chip,\n  InputAdornment,\n  IconButton,\n} from '@mui/material';\nimport {\n  Search,\n  Clear,\n  OpenInNew,\n  TrendingUp,\n  TrendingDown,\n} from '@mui/icons-material';\nimport { useWallet } from '../contexts/WalletContext';\nimport api from '../utils/api';\nimport moment from 'moment';\n\nconst TransactionsPage = () => {\n  const { account, isConnected } = useWallet();\n  const [searchAddress, setSearchAddress] = useState('');\n  const [transactions, setTransactions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [summary, setSummary] = useState(null);\n  const pageSize = 10;\n\n  // 搜索交易记录\n  const searchTransactions = async (address, pageNum = 1) => {\n    if (!address || !address.match(/^0x[a-fA-F0-9]{40}$/)) {\n      setError('请输入有效的以太坊地址');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      // 获取交易记录\n      const response = await api.get(`/api/transactions/${address}`, {\n        params: {\n          page: pageNum,\n          limit: pageSize,\n        },\n      });\n      \n      setTransactions(response.data.transactions);\n      setTotalPages(Math.ceil(response.data.total / pageSize));\n      setPage(pageNum);\n      \n      // 获取交易摘要\n      const summaryResponse = await api.get(`/api/transactions/${address}/summary`);\n      setSummary(summaryResponse.data);\n      \n    } catch (err) {\n      console.error('搜索交易失败:', err);\n      if (err.response?.status === 404) {\n        setError('未找到该地址的交易记录');\n      } else {\n        setError('搜索失败，请检查网络连接或后端服务');\n      }\n      setTransactions([]);\n      setSummary(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 处理搜索\n  const handleSearch = () => {\n    if (searchAddress.trim()) {\n      searchTransactions(searchAddress.trim(), 1);\n    }\n  };\n\n  // 处理分页\n  const handlePageChange = (event, newPage) => {\n    if (searchAddress.trim()) {\n      searchTransactions(searchAddress.trim(), newPage);\n    }\n  };\n\n  // 清空搜索\n  const handleClear = () => {\n    setSearchAddress('');\n    setTransactions([]);\n    setSummary(null);\n    setError(null);\n    setPage(1);\n    setTotalPages(0);\n  };\n\n  // 使用当前连接的账户搜索\n  const searchMyTransactions = () => {\n    if (account) {\n      setSearchAddress(account);\n      searchTransactions(account, 1);\n    }\n  };\n\n  // 格式化地址显示\n  const formatAddress = (address) => {\n    return `${address.slice(0, 6)}...${address.slice(-4)}`;\n  };\n\n  // 格式化金额显示\n  const formatAmount = (amount) => {\n    const value = parseFloat(amount);\n    if (value === 0) return '0';\n    if (value < 0.0001) return value.toExponential(2);\n    return value.toLocaleString(undefined, { maximumFractionDigits: 6 });\n  };\n\n  // 判断交易类型（发送/接收）\n  const getTransactionType = (tx, address) => {\n    const lowerAddress = address.toLowerCase();\n    if (tx.from_address.toLowerCase() === lowerAddress) {\n      return 'sent';\n    } else if (tx.to_address.toLowerCase() === lowerAddress) {\n      return 'received';\n    }\n    return 'unknown';\n  };\n\n  return (\n    <Box>\n      {/* 页面标题 */}\n      <Box sx={{ mb: 4 }}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          📋 交易记录查询\n        </Typography>\n        <Typography variant=\"subtitle1\" color=\"text.secondary\">\n          查询指定地址的ERC20代币转账记录\n        </Typography>\n      </Box>\n\n      {/* 搜索区域 */}\n      <Card elevation={2} sx={{ mb: 3 }}>\n        <CardContent>\n          <Box sx={{ display: 'flex', gap: 2, alignItems: 'flex-start' }}>\n            <TextField\n              fullWidth\n              label=\"以太坊地址\"\n              placeholder=\"输入要查询的以太坊地址 (0x...)\"\n              value={searchAddress}\n              onChange={(e) => setSearchAddress(e.target.value)}\n              onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n              InputProps={{\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <Search />\n                  </InputAdornment>\n                ),\n                endAdornment: searchAddress && (\n                  <InputAdornment position=\"end\">\n                    <IconButton onClick={handleClear} size=\"small\">\n                      <Clear />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <Button\n              variant=\"contained\"\n              onClick={handleSearch}\n              disabled={loading || !searchAddress.trim()}\n              sx={{ minWidth: 100 }}\n            >\n              搜索\n            </Button>\n            {isConnected && account && (\n              <Button\n                variant=\"outlined\"\n                onClick={searchMyTransactions}\n                disabled={loading}\n                sx={{ minWidth: 120 }}\n              >\n                查询我的交易\n              </Button>\n            )}\n          </Box>\n        </CardContent>\n      </Card>\n\n      {/* 错误提示 */}\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\n          {error}\n        </Alert>\n      )}\n\n      {/* 交易摘要 */}\n      {summary && (\n        <Card elevation={1} sx={{ mb: 3 }}>\n          <CardContent>\n            <Typography variant=\"h6\" gutterBottom>\n              📊 交易摘要\n            </Typography>\n            <Box sx={{ display: 'flex', gap: 3, flexWrap: 'wrap' }}>\n              <Chip\n                icon={<TrendingUp />}\n                label={`总交易数: ${summary.totalTransactions}`}\n                color=\"primary\"\n                variant=\"outlined\"\n              />\n              <Chip\n                icon={<TrendingUp />}\n                label={`发送交易: ${summary.sentTransactions}`}\n                color=\"error\"\n                variant=\"outlined\"\n              />\n              <Chip\n                icon={<TrendingDown />}\n                label={`接收交易: ${summary.receivedTransactions}`}\n                color=\"success\"\n                variant=\"outlined\"\n              />\n            </Box>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* 加载状态 */}\n      {loading && (\n        <Box sx={{ display: 'flex', justifyContent: 'center', py: 4 }}>\n          <CircularProgress />\n        </Box>\n      )}\n\n      {/* 交易列表 */}\n      {!loading && transactions.length > 0 && (\n        <Card elevation={2}>\n          <CardContent sx={{ p: 0 }}>\n            <TableContainer component={Paper} elevation={0}>\n              <Table>\n                <TableHead>\n                  <TableRow sx={{ backgroundColor: 'grey.50' }}>\n                    <TableCell>交易哈希</TableCell>\n                    <TableCell>类型</TableCell>\n                    <TableCell>发送方</TableCell>\n                    <TableCell>接收方</TableCell>\n                    <TableCell align=\"right\">金额</TableCell>\n                    <TableCell>代币地址</TableCell>\n                    <TableCell>时间</TableCell>\n                    <TableCell>操作</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {transactions.map((tx, index) => {\n                    const txType = getTransactionType(tx, searchAddress);\n                    return (\n                      <TableRow key={index} hover>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n                            {formatAddress(tx.transaction_hash)}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Chip\n                            size=\"small\"\n                            label={txType === 'sent' ? '发送' : '接收'}\n                            color={txType === 'sent' ? 'error' : 'success'}\n                            variant=\"outlined\"\n                          />\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n                            {formatAddress(tx.from_address)}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n                            {formatAddress(tx.to_address)}\n                          </Typography>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <Typography variant=\"body2\" sx={{ fontWeight: 'bold' }}>\n                            {formatAmount(tx.amount)}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\" sx={{ fontFamily: 'monospace' }}>\n                            {formatAddress(tx.token_address)}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <Typography variant=\"body2\">\n                            {moment(tx.timestamp).format('MM-DD HH:mm:ss')}\n                          </Typography>\n                        </TableCell>\n                        <TableCell>\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => window.open(`#/tx/${tx.transaction_hash}`, '_blank')}\n                          >\n                            <OpenInNew fontSize=\"small\" />\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </TableContainer>\n            \n            {/* 分页 */}\n            {totalPages > 1 && (\n              <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n                <Pagination\n                  count={totalPages}\n                  page={page}\n                  onChange={handlePageChange}\n                  color=\"primary\"\n                  showFirstButton\n                  showLastButton\n                />\n              </Box>\n            )}\n          </CardContent>\n        </Card>\n      )}\n\n      {/* 无数据提示 */}\n      {!loading && !error && transactions.length === 0 && searchAddress && (\n        <Card elevation={1}>\n          <CardContent sx={{ textAlign: 'center', py: 6 }}>\n            <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n              📭 暂无交易记录\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              该地址暂无ERC20代币转账记录，或者数据还在索引中\n            </Typography>\n          </CardContent>\n        </Card>\n      )}\n    </Box>\n  );\n};\n\nexport default TransactionsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}